The final lemma in this sequence will be necessary for use in an upcoming post about logical inductors and correlated equilibria, so it will be proved here in order to not clutter up that post. Much of the notation in this is reused from the previous post, Two Notions of Best Response Let S 1 be the set of actions available to player 1. | S 1 | = m . Given a matrix M , M j refers to the j -th row vector of M . Given some vector → v , | → v | is defined in the usual way. In this post, a j is typically used to refer to some default action by player 1, and a j ′ typically refers to some better action. Consider the space ∏ i j R . This would be a space of probabilities/prices assigned to the various joint outcomes, by some logical inductor. It's possible to use expressible features to pick out fuzzy subsets of this space, by taking the prices of the various sentences as input and mapping them to [ 0 , 1 ] (in practice, the prices will always be in a hypercube, but it'll be convenient to not have to deal with the special case where the prices are on an edge of the hypercube) The infinite sequence { p t } t ∈ N + of points that lie in this space can be identified with the sequence of prices of the logical inductor on day t . Consider some fuzzy set/ P -generable region in that space, bounded in [0,1], which we'll denote by C . Let α C ( k ) be the number in [0,1] that the expressible feature α which implements C outputs when given the market prices of the day k . By a slight abuse of notation, α C ( p ) refers to what the expressible feature would output if the market prices were given by the point p . C ∈ B a j iff there's a point p ∈ s u p p ( C ) such that p ∈ B a j . In words, there's a point in C where a j is an evidential best response. Given some point p , where some action a j has nonzero probability (for a well-defined expected utility), then an action a j ′ dominates a j by δ if E U l o w e r ( a j ′ ) = E U ( a j ) + δ . #Lemma 1: When a point p has | P j | ≥ ϵ , all points q in an L 1 -ball of size δ around p where δ < < ϵ will have | E U q ( a j ) − E U p ( a j ) | ≤ 2 δ . (approximately) Proof: E U p ( a j ) = U j ⋅ P j | P j | = U j ⋅ P j ϵ ≃ U j ⋅ P j ± δ ϵ ± δ = E U q ( a j ) (here, ± δ should be interpreted to be any number in [ − δ , δ ] , and it doesn't necessarily have to be the same number on the top and bottom. Also, in the next line, X will be used as an abbreviation for U j ⋅ P j , which is a number in [ 0 , ϵ ] ) U j ⋅ P j ± δ ϵ ± δ ≃ ( X ± δ ) ( ϵ ± δ ) ϵ 2 − δ 2 ≃ ϵ X ± δ X ± ϵ δ ϵ 2 = X ± δ X ϵ ± δ ϵ ≃ E U p ( a j ) ± 2 δ QED. Now let max n ( a j ) be the n'th largest utility in the j -th row of the utility matrix. max 2 ( a j ) refers to the highest utility less than the maximum utility, in the event that there are two actions with maximal utility. min n is defined similarly. #Lemma 2: For all points p , there exists a change in probabilities by ϵ (according to the L 1 -norm), for which the expected utility of the move a j can be increased by ( max 1 ( a j ) − max 2 ( a j ) ) ϵ 2 , or pushed to the highest attainable utility, whichever one is lower. The same argument will also work to establish that the probabilities can be lowered by ( min 2 ( a j ) − max 2 ( a j ) ) ϵ 2 , or pushed to the lowest attainable utility, whichever one is higher. Assume that the probability matrix P has P j = → 0 Then there is an arbitrarily small change in probability that will have a j have the highest possible expected utility, and it is proved. Assume that the probability matrix P has P j have less than ϵ 2 probability, total, on the i which correspond to non-maximal utilities in U j . Then there is an ϵ -change in probabilities (take all the probability mass from non-optimal outcomes and put it on the best outcome) that makes a j have the highest possible expected utility, and it is proved. Assume that the probability matrix P has P j have ϵ 2 or greater probability, total, on the i which correspond to non-maximal utilities in U j . Then by taking ϵ 2 probability mass from the non-optimal outcomes, and putting it on the optimal outcome, it is easy to verify from the expected utility equation that it will produce at least a ( max 1 ( a j ) − max 2 ( a j ) ) ϵ 2 increase in the expected utility. #Lemma 3: If there is a point p for which no action a j ′ dominates a j by a positive number, and there is a P -generable fuzzy set C ∉ B a j , then p must be on the boundary of s u p p ( C ) , or on the exterior of s u p p ( C ) . Assume the opposite, that this point is on the interior of C . Due to the continuity of the fuzzy set, and the fact that a j is not dominated by any positive number, then there is an arbitrarily small perturbation of the prices to make a j an evidential best response. Now there is a point where a j is an evidential best response in the support of C . However, we assumed that the support of C had no points where a j was an evidential best response. Therefore, there is a contradiction, and p must either be on the boundary of s u p p ( C ) , or the exterior of s u p p ( C ) . In both cases, due to continuity, this point must have α c ( p ) = 0 . #Lemma 4: Given a P -generable fuzzy set C such that C ∉ M a j , and some ϵ , then let . Then all points in C ′ have some action a j ′ that dominates a j by δ , for some positive constant d e l t a . To begin with, the function α C has some bounded lipschitz constant L . Let ϵ ′ : = ϵ 2 L . Given a point p ∈ C ′ , associate each action with E U l o w e r , p for that action, and select an arbitrary highest-value action to be a j ′ . Consider the function F ( p ) that uses the highest-value action for p as a j ′ , and then outputs min ( ( max 1 ( a j ) − max 2 ( a j ) ) ϵ ′ 2 , ( min 2 ( a j ′ ) − min 1 ( a j ′ ) ) ϵ ′ 2 ) when both of these terms are positive, and the term that is positive when the other term is 0. (we can ignore the case where both terms are 0, as we shall soon see) To begin, assume that both terms are 0. That means that E U ( a j ′ ) and E U ( a j ) are both constants. If E U ( a j ′ ) > E U ( a j ) , then the theorem is proved. If they are equal, then one of two situations apply. In case 1, a j ′ is never selected as one of the best actions, in which case we can ignore it. In case 2, a j ′ is selected as one of the best actions somewhere in C ′ , and then no action would dominate a j by a positive number in the interior of C , which is impossible by Lemma 3. Therefore, assuming the theorem hasn't been trivially proved yet, F ( p ) is always defined for all p ∈ C ′ . Also, note that F ( p ) is bounded below by a constant (because there are only finitely many actions, all of which have their corresponding term be a constant, or 0) Select an arbitrary point p , and the corresponding action, a j ′ such that E U l o w e r , p ( a j ′ ) − E U u p p e r , p ( a j ) < F ( p ) If there isn't any, we're done (and δ = a r g m i n p F ( p ) . Otherwise, by Lemma 2, if we look at the L 1 ball of ϵ ′ -sized perturbations, one of two events will have occurred. In case 1, there's a point in that ball where the "domination gap" given by F ( p ) has been closed completely. In case 2, the maximum possible utility for a j is less than the minimum possible utility for a j ′ , and the ball of size ϵ ′ has been ruled out, as all points in that ball have a j ′ dominating a j by a fixed constant δ . In case 1, because the point q where the utility gap closes is ϵ ′ -away from a point p where α C ( p ) > ϵ , and ϵ ′ = ϵ 2 L , then α C ( q ) ≥ ϵ 2 (due to the bounded lipschitz constant of α C ) Then there's a point where a j is not dominated on the interior of C , which by Lemma 3, is impossible. Therefore, case 2 must apply. However, because the worst-case utility of action a j ′ dominates the best-case utility of action a j by δ , our assumption that the theorem was false is false. #Lemma 5: Given some point p where a j ′ dominates a j by δ or more, and | P j | > ϵ > > δ , and p is more than 2 ( m − 1 ) ϵ + δ 3 from a point that is in B a j (according to the L 1 norm), then the sequence of prices { p t } t ∈ N + will only finitely often be in the L 1 -ball of size ~ δ 6 around p . We will consider two cases, and prove them seperately. In case 1, | P j ′ | ≥ ϵ . By Lemma 1, the change in expected utility for a j and a j ′ over the δ 6 L 1 ball will be about, or less than, δ 3 . Because a j ′ dominates a j by δ or more at p , then in this ball, a j ′ always dominates a j by δ 3 or more. Now, there is a convex P -generable fuzzy set C which covers this ball  (and a tiny region outside of it, due to the continuous indicator functions, but this doesn't affect anything, because the support of that region still has a j ′ dominating a j by about δ 3 or more). Assuming that there are infinitely many points in the ball (by contradiction), then by calibration, the empirical joint probabilities, summed over all time, will be within th support of C . To recap the definition of expected value for a logical inductor, E t ( U t | a t = j ) = 1 t i = t − 1 ∑ i = 0 min ⎛ ⎝ P t ( " a t = j " ∧ " U t > i t " ) P t ( a t = j ) , 1 ⎞ ⎠ By assumption, a t = j has a positive probability around ϵ or greater. By coherence, the logical inductor will eventually learn that the price on a t = j should equal the sum of the prices over all the other joint outcomes, so in the limit, P t ( a t = j ) ≃ t | P j | . A similar argument applies to learning the utilities of the various outcomes in the top of the fraction, so in the limit, E t ( U t | a t = j ) ≃ t E U ( a j ) . Now, since a j ′ also has probability bounded away from 0, then the same argument applies to it as well. The expected utilities will eventually be learned. Because there's a δ 3 or larger difference in expected utilities, a j will be taken with limiting probability 0 when the prices are inside C . However, due to calibration, the probability of a j must be bounded away from 0, so we have a contradiction, and the sequences of prices { p t } t ∈ N + must have only finitely many elements in the L 1 -ball. Now for case 2. Assume case 1 is false, so for the point p , for all a j ′ which dominate a j by δ or more, | a j ′ | < ϵ . Consider the L 1 -ball of size δ 6 around p . There degree of improvement in E U ( a j ) over the whole ball can be at most δ 3 , by Lemma 1. Let δ ′ be the maximum increase over E U p ( a j ) for a j , for the whole ball. For each action a j ′ that is not a j and has E U l o w e r , p ( a j ′ ) > E U u p p e r , p ( a j ) , there is a perturbation of size 2 ϵ or less that will either drive their expected utility to E U u p p e r , p ( a j ) + δ ′ or below, or drive their expected utility to the minimum possible. If a j ′ has a probability less than ϵ (as all the a j ′ that δ -dominate a j do), by taking ϵ utility mass from that action (to drive it to probability 0) and putting it on a j in a way that preserves expected value, that a j ′ will be counted as having the lowest possible expected utility in the dominance calculation. If a j ′ has a probability ≥ ϵ (and has an expected utility within δ of a j ) Lemma 2 works to either drive the expected utility of a j ′ below that of a j , or drive it to the minimum possible expected utility. If the worst-case utility for all those actions is equal to or less than E U p ( a j ) + δ ′ , then there's a point in B a j that's within 2 ( m − 1 ) ϵ + δ 3 distance of p (apply the perturbations mentioned above to make all other actions lose), which violates one of the starting assumptions. Therefore, there must be some action a j ′ that dominates a j by more than δ ′ at p , using the worst-case utility, so it dominates a j by a fixed amount over the whole L 1 ball. Now, we shouldn't necessarily assume that, over the whole ball, accurate utilities for a j ′ will be learned , because the ball may have regions where the probability of a j ′ is arbitrarily close to 0. However, density-zero exploration lets the inductor learn a lower bound on the utility of a j ′ , as we'll see. Assume that the L 1 -ball has infinitely many price points in it (for a contradiction) Then, we can again make a P -generable convex set C with infinitely many points in it, and because of infinite exploration on divergent P -generable subsequences (this is a slight strengthening of Scott's density-zero exploration), the action a j ′ will be taken infinitely often, and in finite time, the inductor will learn that E t ( U t | a t = j ) will be close to, or greater than, the worst-case utility for a j ′ when the prices are in the set C . Again, we get the logical inductor learning to never take action a j , which produces a contradiction with the calibration property in the same way as before, because in this region, the price of a j is bounded away from 0. Therefore, in case 2, there are still only finitely many points in the ball around p , and the theorem has been proved. #Lemma 6: One of the following two properties applies to all convex P -generable sets of prices over joint outcomes: 1: C ∈ B a j 2: lim t → ∞ 1 t ∑ k ≤ t α C ( k ) ⋅ i n d ( a j , k ) = 0 (I suspect it's possible to strengthen condition 2 a little bit, but this more than suffices for the upcoming proof in the next post. Also, i n d ( a j , k ) is the function that is 0 when a j is not taken on turn k , and 1 otherwise.) Assume 1 is false. If it's true, the proof is over. Also, assume there are infinitely many points in the interior of C , because otherwise 2 is true and the proof is over. The space of prices is composed entirely of the following three disjoint sets of points. Set Γ is composed of points where α C ( p ) < ϵ . in sets Δ and Θ , this doesn't hold (and by Lemma 4, there must always be some action a j ′ that dominates a j by δ or more). Set Δ ∪ Θ is convex, because C is. Set Δ is the (convex) set of points where a j < ϵ L , and set Θ is the (convex) set of points where a j ≥ ϵ L . Set Θ can have Lemma 5 applied to it to conclude that the sequence of prices will only be within it finitely often. Just identify ϵ L with 2 ( m − 1 ) ϵ + δ 3 in Lemma 5 to get the bounding away from B a j , because that's the minimum distance to travel to get outside of s u p p ( C ) , and identify δ or something sufficiently smaller with the δ in Lemma 5 to get the domination condition. We can split up lim t → ∞ 1 t ∑ k ≤ t α C ( k ) ⋅ i n d ( a j , k ) into three sequences (with some overlap, but it won't matter, because it produces an overestimate) In the first sequence, the prices for the day are in set Γ . In the second (fuzzy) sequence,the expected utility of a j is less than ϵ L (plus a little bit, so an expressible feature can capture this), and in particular, this fuzzy sequence is P -generable. In the third sequence, the prices for the day are in set Θ . All days are in one of these three sequences. Over the first sequence, the time-averaged sum must limit to ϵ or less, because α C ( k ) < ϵ , always. Over the second (fuzzy) sequence, the long-term frequency of a j being taken must limit to ϵ L or less, by calibration, so the time-averaged sum must limit to ϵ L or less. Over the third sequence, because it has finitely many points in it, the time-averaged sum limits to 0. Therefore, the time-averaged sum must limit to ϵ ( 1 + 1 L ) or less. Because L is a fixed constant, and ϵ can be as small as we want, the time-averaged sum must converge to 0.