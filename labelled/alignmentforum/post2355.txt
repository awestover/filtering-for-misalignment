The fundamental theorem of finite factored sets tells us that ( conditional ) orthogonality data can be inferred from probabilistic data. Thus, if we can infer temporal data from orthogonality data, we will be able to combine these to infer temporal data purely from probabilistic data. In this section, we will discuss the problem of inferring temporal data from orthogonality data, mostly by going through a couple of examples. 6.1. Factored Set Models We'll begin with a sample space, Ω . Naively, one might except that temporal inference in this paradigm involves inferring a factorization of Ω . What we'll actually be doing, however, is inferring a factored set model of Ω . This will allow for the possibility that some situations are distinct without being distinct in Ω —that there can be latent structure not represented in Ω . Definition 38 (model). Given a set Ω , a model of Ω is a pair M = ( F , f ) , where F is a finite factored set and f : set ( F ) → Ω is a function from the set of F to Ω . Definition 39. Let S and Ω be sets, and let f : S → Ω be a function from S to Ω . Given a ω ∈ Ω , we let f − 1 ( ω ) = { s ∈ S ∣ f ( s ) = ω } . Given an E ⊆ Ω , we let f − 1 ( E ) = { s ∈ S ∣ f ( s ) ∈ E } . Given an X ∈ Part ( Ω ) , we let f − 1 ( X ) ∈ Part ( S ) be given by f − 1 ( X ) = { f − 1 ( x ) | x ∈ X , f − 1 ( x ) ≠ { } } . Definition 40 (orthogonality database). Given a set Ω , an orthogonality database on Ω is a pair D = ( O , N ) , where O and N are both subsets of Part ( Ω ) × Part ( Ω ) × Part ( Ω ) . Definition 41. Given an orthogonality database D = ( O , N ) on a set Ω , and partitions X , Y , Z ∈ Part ( Ω ) , we write X ⊥ D Y | Z if ( X , Y , Z ) ∈ O , and we write X ⇌ D Y | Z if ( X , Y , Z ) ∈ N . Definition 42. Given a set Ω , a model M = ( F , f ) of Ω , and an orthogonality database D = ( O , N ) on Ω , we say M models D if for all X , Y , Z ∈ Part ( Ω ) , if X ⊥ D Y | Z then f − 1 ( X ) ⊥ F f − 1 ( Y ) | f − 1 ( Z ) , and if X ⇌ D Y | Z then ¬ ( f − 1 ( X ) ⊥ F f − 1 ( Y ) | f − 1 ( Z ) ) . Definition 43. An orthogonality database D on a set Ω is called consistent if there exists a model M of Ω such that M models D . Definition 44. An orthogonality database D on a set Ω is called complete if for all X , Y , Z ∈ Part ( Ω ) , either X ⊥ D Y | Z or X ⇌ D Y | Z . Definition 45. Given a set Ω , an orthogonality database D on Ω , and X , Y ∈ Part ( Ω ) , we say X < D Y if for all models ( F , f ) of Ω that model D , we have f − 1 ( X ) < F f − 1 ( Y ) . 6.2. Examples Example 1. Let Ω = { 00 , 01 , 10 , 11 } be the set of all bit strings of length 2 . For i ∈ { 0 , 1 } , let x i = { i 0 , i 1 } be the event that the first bit is i , and let y i = { 0 i , 1 i } be the event that the second bit is i. Let X = { x 0 , x 1 } and let Y = { y 0 , y 1 } . Let v 0 = { 00 , 11 } be the event that the two bits are equal, let v 1 = { 01 , 10 } be the event that the two bits are unequal, and let V = { v 0 , v 1 } . Let D = ( O , N ) , where O = { ( X , V , { Ω } ) } and N = { ( V , V , { Ω } ) } . Proposition 33. In Example 1, D is consistent. Proof. First observe that F = ( Ω , { X , V } ) is a factored set, and so M = ( F , f ) is a model of Ω , where f is the identity on Ω . It suffices to show that M models D . Indeed h F ( X ) = { X } , and h F ( V ) = { V } , so X ⊥ F V , so f − 1 ( X ) ⊥ F f − 1 ( V ) | f − 1 ( { Ω } ) . Further, it is not the case that V ⊥ F V , since V ≠ Ind Ω . Thus it is not the case that f − 1 ( V ) ⊥ F f − 1 ( V ) | f − 1 ( { Ω } ) . Thus M satisfies all of the conditions to model D , so D is consistent. □ Proposition 34. In Example 1, X < D Y . Proof. Let ( F , f ) be any model of Ω that models D . Let F = ( S , B ) . For any A ∈ Part ( Ω ) , let H A = h F ( f − 1 ( A ) ) . Our goal is to show that H X is a strict subset of H Y . First observe that X ≤ Ω Y ∨ Ω V , so for any s , t ∈ S , if s ∼ f − 1 ( Y ) t and s ∼ f − 1 ( V ) t , then f ( s ) ∼ Y f ( t ) and f ( s ) ∼ V f ( t ) , so f ( s ) ∼ X f ( t ) , so s ∼ f − 1 ( X ) t . Thus f − 1 ( X ) ≤ S f − 1 ( Y ) ∨ S f − 1 ( V ) . It follows that H X ⊆ h F ( f − 1 ( Y ) ∨ S f − 1 ( V ) ) = H Y ∩ H V . However, since X ⊥ D V | { Ω } , we have that H X ∩ H V = { } , so H X ⊆ H Y . By swapping X and V in the argument above, we also get that H V ⊆ H Y . Since V ⇌ D V | { Ω } , we have that H V ≠ { } . Thus H V contains some element b . Observe that b ∉ H X , but b ∈ H Y . Thus H X is a strict subset of H Y , so f − 1 ( X ) < F f − 1 ( Y ) . Since ( F , f ) was an arbitrary model of Ω that models D , this implies that X < D Y . □ Example 2. Let Ω = { 000 , 001 , 010 , 011 , 100 , 101 , 110 , 111 } be the set of all bit strings of length 3 . For i ∈ { 0 , 1 } , let x i = { i 00 , i 01 , i 10 , i 11 } be the event that the first bit is i , let y i = { 0 i 0 , 0 i 1 , 1 i 0 , 1 i 1 } be the event that the second bit is i , and let z i = { 00 i , 01 i , 10 i , 11 i } be the event that the third bit is i . Let X = { x 0 , x 1 } , let Y = { y 0 , y 1 } , and let Z = { z 0 , z 1 } . Let v 0 = { 000 , 001 , 110 , 111 } be the event that the first two bits are equal, let v 1 = { 010 , 011 , 100 , 101 } be the event that the first two bits are unequal, and let V = { v 0 , v 1 } . Let D = ( O , N ) , where O = { ( X , V , { Ω } ) , ( X , Z , Y ) , ( V , Z , Y ) } and N = { ( X , Z , { Ω } ) , ( V , Z , { Ω } ) , ( Z , Z , Y ) } . Proposition 35. In Example 2, D is consistent. Proof. Let S = Ω ∪ { 00 , 01 , 10 , 11 } be the set of all bit strings of length either 2 or 3 . For i ∈ { 0 , 1 } , let x ′ i = { i 00 , i 01 , i 10 , i 11 , i 0 , i 1 } be the event that the first bit is i , and let X ′ = { x ′ 0 , x ′ 1 } . For i ∈ { 0 , 1 } , let y ′ i = { 0 i 0 , 0 i 1 , 1 i 0 , 1 i 1 , 0 i , 1 i } be the event that the second bit is i , and let Y ′ = { y ′ 0 , y ′ 1 } . Let v ′ 0 = { 000 , 001 , 110 , 111 , 00 , 11 } be the event that the first two bits are equal, let v ′ 1 = { 010 , 011 , 100 , 101 , 01 , 10 } be the event that the first two bits are unequal, and let V ′ = { v ′ 0 , v ′ 1 } . For i ∈ { 0 , 1 } , let z ′ i = { 00 i , 01 i , 10 i , 11 i } be the event that the third bit exists and is i , let z ′ 2 = { 00 , 01 , 10 , 11 } be the event that there are only two bits, and let Z ′ = { z ′ 0 , z ′ 1 , z ′ 2 } . Let B = { X ′ , V ′ , Z ′ } . Clearly, ( S , B ) is a finite factored set. Let f : S → Ω be given by f ( s ) = s if s ∈ Ω , f ( 00 ) = 000 , f ( 01 ) = 011 , f ( 10 ) = 100 , and f ( 11 ) = 111 , so f copies the last bit on inputs of length 2 , and otherwise leaves the bit string alone. We will show that ( F , f ) models D . First, observe that f − 1 ( X ) = X ′ , f − 1 ( Y ) = Y ′ , f − 1 ( V ) = V ′ , and f − 1 ( Z ) = { { 000 , 010 , 100 , 110 , 00 , 10 } , { 001 , 011 , 101 , 111 , 01 , 11 } } . It is easy to verify that h F ( X ′ ) = { X ′ } , h F ( V ′ ) = { V ′ } , h F ( Y ′ ) = { X ′ , V ′ } , and h F ( f − 1 ( Z ) ) = B . From this, we get that X ′ ⊥ F V ′ holds, but X ′ ⊥ F f − 1 ( Z ) and V ′ ⊥ F f − 1 ( Z ) do not hold. Next, observe that for i ∈ { 0 , 1 } , X ′ | y i = V ′ | y i = { { 0 i 0 , 0 i 1 , 0 i } , { 1 i 0 , 1 i 1 , 1 i } } . It is easy to verify that h F ( X ′ | y i ) = h F ( V ′ | y i ) = { X ′ , V ′ } . Also, observe that f − 1 ( Z ) | y 0 = { { 000 , 100 , 00 , 10 } , { 001 , 101 } } , and observe that f − 1 ( Z ) | y 1 = { { 010 , 110 } , { 011 , 111 , 01 , 11 } } . It is easy to verify that h F ( f − 1 ( Z ) | y 0 ) = h F ( f − 1 ( Z ) | y 1 ) = { Z ′ } . From this, we get that X ′ ⊥ F f − 1 ( Z ) | Y ′ and V ′ ⊥ F f − 1 ( Z ) | Y ′ hold, and f − 1 ( Z ) ⊥ F f − 1 ( Z ) | Y ′ does not hold. Thus, ( F , f ) models D , so D is consistent. □ Proposition 36. In Example 2, X < D Y < D Z . Proof. Let ( F , f ) be any model of Ω that models D . Let F = ( S , B ) . For any A ∈ Part ( Ω ) , let H A = h F ( f − 1 ( A ) ) . Our goal is to show that H X is a strict subset of H Y and that H Y is a strict subset of H Z . First observe that X ≤ Ω Y ∨ Ω V , so f − 1 ( X ) ≤ S f − 1 ( Y ) ∨ f − 1 ( V ) , so H X ⊆ H Y ∪ H V . Since X ⊥ D Y | { Ω } , H X ∩ H V = { } , so H X ⊆ H Y . Symmetrically, H V ⊆ H Y , so H X ∪ H V ⊆ H Y . Similarly, Y ≤ Ω X ∨ Ω V , so H Y ⊆ H X ∪ H V . Thus H Y = H X ∪ H V . We also know that H X and H V are nonempty, because X ⇌ D Z | { Ω } and Y ⇌ D Z | { Ω } . Thus H X is a strict subset of H Y , so X < D Y . Let C ⊆ B be arbitrary such that H X ∩ C and H V ∩ ( B ∖ C ) are both nonempty. Fix some b X ∈ H X ∩ C and b V ∈ H V ∩ ( B ∖ C ) . Since b X ∈ H X , there must exist s 0 , s 1 ∈ S such that s 0 ∼ b s 1 for all b ∈ B ∖ { b X } , but not s 0 ∼ f − 1 ( X ) s 1 . Thus it is not the case that f ( s 0 ) ∼ X f ( s 1 ) . Without loss of generality, assume that f ( s 0 ) ∈ x 0 and f ( s 1 ) ∈ x 1 . Similarly, since b V ∈ H V , there must exist t 0 , t 1 ∈ S such that t 0 ∼ b t 1 for all b ∈ B ∖ { b V } , but not t 0 ∼ f − 1 ( V ) t 1 . Again, without loss of generality, assume that f ( t 0 ) ∈ v 0 and f ( t 1 ) ∈ v 1 . For i , j ∈ { 0 , 1 } , let r i j = χ F H X ( s i , t j ) . Next, observe that r i j ∼ f − 1 ( X ) s i , so f ( r i j ) ∼ X f ( s i ) ∈ x i , so f ( r i j ) ∈ x i . Similarly, f ( r i j ) ∈ v j , so f ( r i j ) ∈ x i ∩ v j . Thus, if i = j , f ( r i j ) ∈ y 0 , and if i ≠ j , f ( r i j ) ∈ y 1 . Further, observe that χ F C ( r 00 , r 11 ) = r 01 , since r 00 and r 11 agree on all factors other than b X and b V . In particular, this means that χ F C ( f − 1 ( y 0 ) , f − 1 ( y 0 ) ) ≠ f − 1 ( y 0 ) . Similarly, since χ F C ( r 01 , r 10 ) = r 00 , we have that χ F C ( f − 1 ( y 1 ) , f − 1 ( y 1 ) ) ≠ f − 1 ( y 1 ) . We will use this to show that for any y ∈ f − 1 ( Y ) and A ∈ Part ( y ) , either h F ( A ) ∩ H Y = { } , or H Y ⊆ h F ( A ) . This is because h F ( A ) ⊢ F A , so χ F h F ( A ) ( y , y ) = y , so by the above argument, if h F ( A ) ∩ H X is nonempty, then H V ⊆ h F ( A ) , which since H V is nonempty means h F ( A ) ∩ H V is nonempty, so H X ⊆ h F ( A ) , so H Y ⊆ h F ( A ) . Symmetrically, we also have that if h F ( A ) ∩ H V is nonempty, then H Y ⊆ h F ( A ) . Thus, if h F ( A ) ∩ H Y is nonempty, then either h F ( A ) ∩ H X or h F ( A ) ∩ H V is nonempty, so H Y ⊆ h F ( A ) . Note that for any y ∈ f − 1 ( Y ) , two of the elements among the four r i j defined above are in y , and those two elements are in different parts in f − 1 ( X ) , so f − 1 ( X ) | y has at least two parts, so h F ( f − 1 ( X ) | y ) is nonempty. However, h F ( f − 1 ( X ) | y ) ⊆ h F ( f − 1 ( X ) ∨ S f − 1 ( Y ) ) = H Y . Thus, h F ( f − 1 ( X ) | y ) ∩ H Y ≠ { } , so H Y ⊆ h F ( f − 1 ( X ) | y ) , so h F ( f − 1 ( X ) | y ) = H Y . Symmetrically, h F ( f − 1 ( V ) | y ) = H Y . In particular, this means that h F ( f − 1 ( Z ) | y ) ∩ H Y = { } , since X ⊥ D Z | Y . Since X ⇌ D Z | { Ω } , there exists some b Z ∈ H X ∩ H Z . Since b Z ∈ H Z , there exist u 0 , u 1 ∈ S such that u 0 ∼ b u 1 for all b ∈ B ∖ { b Z } , but it is not the case that u 0 ∼ f − 1 ( Z ) u 1 . Without loss of generality, assume that f ( u 0 ) ∈ z 0 and f ( u 1 ) ∈ z 1 . Let y = [ u 0 ] f − 1 ( Y ) . Let b y be an arbitrary element of H Y . Since b Y ∈ H Y , there exist q 0 , q 1 ∈ S such that q 0 ∼ b q 1 for all b ∈ B ∖ { b Y } , but it is not the case that q 0 ∼ f − 1 ( Y ) q 1 . Without loss of generality, assume that q 0 ∈ y and q 1 ∉ y . Consider p 0 = χ F H Y ( q 0 , u 0 ) = χ F H Y ( q 0 , u 1 ) . Since q 0 ∈ y , p 0 ∈ y . Since u 0 is also in y , χ F h F ( f − 1 ( Z ) | y ) ( p 0 , u 0 ) ∼ f − 1 ( Z ) p 0 . However, since h F ( f − 1 ( Z ) | y ) ∩ H Y = { } , we have χ F h F ( f − 1 ( Z ) | y ) ( p 0 , u 0 ) = u 0 , so u 0 ∼ f − 1 ( Z ) p 0 . If u 1 were in y , we would similarly have u 1 ∼ f − 1 ( Z ) p 0 , which would contradict the fact that it is not the case that u 0 ∼ f − 1 ( Z ) u 1 . Thus u 1 ∉ y . Next, consider p 1 = χ F H Y ( q 1 , u 0 ) = χ F H Y ( q 1 , u 1 ) . Since q 1 ∉ y , p 1 ∉ y . Since u 1 is also not in y , χ F h F ( f − 1 ( Z ) | ( S ∖ y ) ) ( p 1 , u 1 ) ∼ f − 1 ( Z ) p 1 . However, since h F ( f − 1 ( Z ) | ( S ∖ y ) ) ∩ H Y = { } , we have χ F h F ( f − 1 ( Z ) | ( S ∖ y ) ) ( p 1 , u 1 ) = u 1 , so u 1 ∼ f − 1 ( Z ) p 1 . Thus, it is not the case that p 0 ∼ f − 1 ( Z ) p 1 . However, we constructed p 0 and p 1 such that p 0 ∼ b p 1 for all b ≠ b Y . Thus b Y ∈ H Z . Since b Y was arbitrary in H Y , we have that H Y ⊆ H Z . Finally, we need to show that this subset relation is strict. Since Z ⇌ D Z | Y , there is some y such that h F ( f − 1 ( Z ) | y ) ≠ { } . Let b be any element of h F ( f − 1 ( Z ) | y ) . Since h F ( f − 1 ( Z ) | y ) ∩ H Y = { } , b ∉ H Y . However, b ∈ h F ( f − 1 ( Z ) | y ) ⊆ h F ( f − 1 ( Z ) ∨ S f − 1 ( Y ) ) = h Z ∪ H Y . Therefore b ∈ H Z . Thus H Y is a strict subset of H Z , so Y < D Z . □ In the next post, we'll discuss applications and future research directions.