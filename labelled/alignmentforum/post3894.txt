Previously , we discussed the construction of logical counterfactuals in the language of optimal predictors. These counterfactuals were found to be well-behaved when a certain non-degeneracy condition is met which can be understood as a bound on the agent's ability to predict itself. We also demonstrated that desired game-theoretic behavior seems to require randomization (thermalizing instead of maximizing) which has to be logical randomization to implement metathreat game theory by logical counterfactuals. Both of these considerations suggest that the agent has to pseudorandomize (randomize in the logical uncertainty sense) its own behavior. Here, we show how to implement this pseudorandomization and prove it indeed guarantees the non-degeneracy condition. Results The proofs of the results are given in Appendix A. Motivation We start with describing the analogous construction in classical probability theory. Fix n ∈ N . Denote A : = { a ∈ N ∣ a < n } . Suppose { q a ∈ [ 0 , 1 ] } a ∈ A is a probability distribution on A , i.e. ∑ a ∈ A q a = 1 . We want to construct a procedure that samples A according to the probabilities q . Suppose we are given h , a uniformly distributed [ 0 , 1 ] A -valued random variable. Then we can select s ( q , h ) ∈ A by s ( q , h ) : = min { a ∈ A ∣ q a ∑ n − 1 b = a q b ≥ h a } It is easy to see that s ( q , h ) implements the desired sampling i.e. Pr [ s ( q , h ) = a ] = q a . In order to translate the above into logical uncertainty, we need a source of pseudorandom that can be the counterpart of h . The following definition establishes the desiderata of this object. Definition Fix an error space E and d : N → R ≥ 0 . Consider n ∈ N , ν a probability measure on [ 0 , 1 ] n , μ a word ensemble and h : supp μ → [ 0 , 1 ] n . ( μ , h ) is said to be ν -distributed E ( p o l y , l o g ) -pseudorandom within precision d when for any { 0 , 1 } -valued ( p o l y , l o g ) -bischeme ^ S , uniformly bounded family of functions { f k : [ 0 , 1 ] n → R } k ∈ N and sequence { L k ∈ R > 0 } k ∈ N s.t. f k is Lipschitz continuous with constant L k , there is δ ∈ E s.t. | E μ × U r S [ ^ S ( f ∘ h − E ν [ f ] ) | ≤ δ + L d Note Compare the above to the previously given definition of an " irreducible " estimation problem. We now give a basic existence result for pseudorandom functions by establishing that a random function is pseudorandom. Construction Consider t : N → N and α : N → R ≥ 0 . E 2 ( t , α ) is defined to be the set of bounded functions δ : N 2 → R ≥ 0 s.t. ∃ ϵ > 0 ∀ m ∈ N : for almost all k ∈ N : ∀ j < ( t k ) m : ϵ δ k j ≤ α k Proposition 1 Consider t : N → N and α : N → R ≥ 0 . If exists m ∈ N s.t. α k = Ω ( 2 − k m ) then E 2 ( t , α ) is an error space. If exists m ∈ N s.t. α k = Ω ( k − m ) then E 2 ( t , α ) is an ample error space. Proposition 2 For any ϕ ∈ Φ , E 2 ( t ϕ , 1 ϕ ) ⊆ E 2 ( l l , ϕ ) . Theorem 1 For any n ∈ N there is M n > 0 s.t. the following holds. Consider ν a probability measure on [ 0 , 1 ] n and μ a word ensemble. Let h ∗ : supp μ → [ 0 , 1 ] n be generated by independently sampling ν for each x ∈ supp μ . Suppose t : N → N , α : N → R ≥ 0 and d : N → R ≥ 0 are s.t. t k ≥ k and ∀ m ∈ N : lim k → ∞ ( t k ) m ( d k ) − n exp ( − 1 2 ( d k ) 2 n ( α k ) 2 ∑ x ∈ { 0 , 1 } ∗ μ k ( x ) 2 ) = 0 Then ( μ , h ∗ ) is ν -distributed E 2 ( t , α ) ( p o l y , l o g ) -pseudorandom within precision M n d with probability 1. Finally, we show pseudorandomization guarantees non-degeneracy. Notation Given measurable space X and Y , f : X m k − − → Y will denote a Markov kernel with source X and target Y . For each x ∈ X , f ( x ) will refer to the corresponding Y -valued random variable. Theorem 2 Fix n ∈ N . Consider E an error space, d : N → R ≥ 0 , μ a word ensemble, q : supp μ m k − − → [ 0 , 1 ] n , ζ : N → ( 0 , 1 n ] and h : supp μ → [ 0 , 1 ] n . Suppose that for any x ∈ supp μ k , ∑ n − 1 a = 0 q a ( x ) = 1 and ∀ a < n : q a ( x ) ≥ ζ k with probability 1 and that ( μ , h ) is uniform E ( p o l y , l o g ) -pseudorandom within precision d . Define p : supp μ → [ 0 , 1 ] n by p a ( x ) : = Pr [ a = min { b < n ∣ q b ( x ) ∑ n − 1 c = b q c ( x ) ≥ h b ( x ) } ] Assume ^ P is a symmetric E ( p o l y , r l o g ) -orthogonal predictor for ( μ , p p t ) . Let ^ ξ be the lowest eigenvalue of ^ P . Then there is δ ∈ E s.t. E μ × ^ σ P [ θ ( ζ n n ( n + 1 ) − ^ ξ ) ⋅ ( ζ n n ( n + 1 ) − ^ ξ ) ] ≤ δ + ζ − 1 d Corollary In the setting of Theorem 2, assume ζ − 1 d ∈ E . Then there is ^ Q a symmetric E ( p o l y , r l o g ) -optimal predictor for ( μ , p p t ) s.t. its lowest eigenvalue is at least ζ n n ( n + 1 ) . Appendix A Proposition 1 and 2 are obvious and we skip the proofs. Construction A Given r > 0 , let H ( r ) be the set of functions ω : [ 0 , 1 ] n → [ − 1 , + 1 ] given by ω ( z ) = cos ( π ϑ t z ) or ω ( z ) = sin ( π ϑ t z ) for ϑ ∈ Z n , ∥ ϑ ∥ ≤ r . Proof of Theorem 1 Consider any continuous function ω : [ 0 , 1 ] n → [ − 1 , + 1 ] . For any k ∈ N and S : supp μ k m k − − → [ 0 , 1 ] , we have E μ k ⋉ S [ S ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] = ∑ x ∈ { 0 , 1 } ∗ μ k ( x ) E [ S ( x ) ] ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) Denote η the probability measure from which h ∗ is sampled. That is, η is the completion of ∏ x ∈ supp μ ν . Denote λ ( x ) : = μ k ( x ) E [ S ( x ) ] ω ( h ∗ ( x ) ) . E μ k ⋉ S [ S ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] = ∑ x ∈ { 0 , 1 } ∗ λ ( x ) − E η [ ∑ x ∈ { 0 , 1 } ∗ λ ( x ) ] By Hoeffding's inequality, Pr η [ | ∑ x ∈ { 0 , 1 } ∗ λ ( x ) − E η [ ∑ x ∈ { 0 , 1 } ∗ λ ( x ) ] | ≥ ( d k ) n α k ] ≤ 2 exp ( − 2 ( d k ) 2 n ( α k ) 2 ∑ x ∈ { 0 , 1 } ∗ ( 2 μ k ( x ) ) 2 ) Pr η [ | E μ k ⋉ S [ S ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] | ≥ ( d k ) n α k ] ≤ 2 exp ( − 1 2 ( d k ) 2 n ( α k ) 2 ∑ x ∈ { 0 , 1 } ∗ μ k ( x ) 2 ) For some M 1 > 0 we have # H ( r ) ≤ M 1 r n . Denote H k : = H ( ( d k ) − 1 ) . For any j ≥ 1 we have Pr η [ ∃ ω ∈ H k , s ∈ { 0 , 1 } ⌊ log j ⌋ : | E μ k × U j [ β ( e v ( s ; x , y ) ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] | ≥ ( d k ) n α k ] ≤ 2 M 1 ( d k ) − n j exp ( − 1 2 ( d k ) 2 n ( α k ) 2 ∑ x ∈ { 0 , 1 } ∗ μ k ( x ) 2 ) For any m ∈ N , we know that ∞ ∑ k = 0 ( t k ) m ( d k ) − n exp ( − 1 2 ( d k ) 2 n ( α k ) 2 ∑ x ∈ { 0 , 1 } ∗ μ k ( x ) 2 ) < ∞ It follows that with η -probability 1 ∀ m ∈ N : for almost all k ∈ N : ∀ ω ∈ H k , s ∈ { 0 , 1 } ⌊ m log t k ⌋ : | E μ k × U ( t k ) m [ β ( e v ( s ; x , y ) ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] | < ( d k ) n α k This implies that for any { 0 , 1 } -valued ( p o l y , l o g ) -bischeme ^ S ∀ m ∈ N : for almost all k ∈ N : ∀ ω ∈ H k , j < ( t k ) m : | E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] | < ( d k ) n α k Consider a uniformly bounded family of functions { f k : [ 0 , 1 ] n → R } k ∈ N and sequence { L k ∈ R > 0 } k ∈ N s.t. f k is Lipschitz continuous with constant L k . By Corollary B (see Appendix B) there are M 2 n , M 3 n > 0 , { g k : [ 0 , 1 ] n → R } k ∈ N and { c k ω ∈ R } k ∈ N , ω ∈ H k s.t. | g k | ≤ 1 2 M 2 n L k d k , | c k ω | < M 3 n sup | f | and f k = ∑ ω ∈ H k c k ω ω + g k . E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( f k ( h ∗ ( x ) ) − E ν [ f k ] ) ] = ∑ ω ∈ H k c k ω E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] + E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( g k ( h ∗ ( x ) ) − E ν [ g k ] ) ] | E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( f k ( h ∗ ( x ) ) − E ν [ f k ] ) ] | ≤ M 3 n sup | f | ∑ ω ∈ H k | E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( ω ( h ∗ ( x ) ) − E ν [ ω ] ) ] | + M 2 n L k d k ∀ m ∈ N : for almost all k ∈ N : j < ( t k ) m : | E μ k × U r S ( k , j ) [ ^ S k j ( x ) ( f k ( h ∗ ( x ) ) − E ν [ f k ] ) ] | < M 1 M 3 n sup | f | α k + M 2 n L k d k Proposition A.1 Fix an error space E and d : N → R ≥ 0 . Consider n ∈ N , ν a probability measure on [ 0 , 1 ] n , μ a word ensemble and h : supp μ → [ 0 , 1 ] n . Assume ( μ , h ) is ν -distributed E ( p o l y , l o g ) -pseudorandom within precision d . Then, for any { 0 , 1 } -valued ( p o l y , r l o g ) -bischeme ^ S , uniformly bounded family of functions { f k : [ 0 , 1 ] n → R } k ∈ N and sequence { L k ∈ R > 0 } k ∈ N s.t. f k is Lipschitz continuous with constant L k , there is δ ∈ E s.t. | E μ × ^ σ S [ ^ S ( f ∘ h − E ν [ f ] ) | ≤ δ + L d Proof of Proposition A.1 The definition of pseudorandom implies for any f and L as above there is an E -moderate function δ : N 4 → R ≥ 0 s.t. for any k , j , s ∈ N , A : { 0 , 1 } ∗ 2 a l g − → { 0 , 1 } | E μ × U s [ A ( x , y ) ( f k ( h ( x ) ) − E ν [ f k ] ) | ≤ δ ( k , j , T μ A ( k , s ) , 2 | A | ) + L k d k This easily implies the desired result. Proof of Theorem 2 Since it is possible to find a lowest eigenvector of a symmetric matrix in time polynomial in the number of significant digits, there is a Q n -valued ( p o l y , r l o g ) -bischeme ^ u s.t. ∥ ( ^ P − ^ ξ ) ^ u ∥ ≤ δ 1 and 1 ≤ ^ u t ^ u ≤ 1 + δ 1 for δ 1 ∈ E . For any bounded Q -valued ( p o l y , r l o g ) -bischeme ^ S with ^ σ S = ^ σ P × τ we have | E μ × ^ σ P × τ [ ^ S ^ u t ( ^ P − p p t ) ^ u ] | ∈ E ~ δ S : = | E μ × ^ σ P × τ [ ^ S ( ^ ξ − ( ^ u t p ) 2 ) ] | ∈ E Denote A : = { a ∈ N ∣ a < n } . Let ^ m be an A -valued ( p o l y , r l o g ) -bischeme s.t. | ^ u m | = max a ∈ A | ^ u a | . We have | ^ u m | ≥ 1 √ n and in particular if x ∈ supp μ is s.t. p m ( x ) = 1 then ( ^ u t ( x ) p ( x ) ) 2 ≥ 1 n . For any k ∈ N , a ∈ A , denote ς k a : = ζ k 1 − a ζ k , ϖ k a : = 1 − ( n − 1 ) ζ k 1 − a ζ k . Define f k a : [ 0 , 1 ] n → [ 0 , 1 ] by f k a ( z ) : = min ( θ ( 1 − z a ς k a ) ⋅ ( 1 − z a ς k a ) , min b < a ( θ ( z b − ϖ k b 1 − ϖ k b ) ⋅ z b − ϖ k b 1 − ϖ k b ) ) f k a is Lipschitz continuous with constant L k a : = max ( 1 ς k a , max b < a 1 1 − ϖ k a ) ≤ ( ζ k ) − 1 . f k a only depends on the first a + 1 variables. As a function of these variables, its graph is a pyramid of height 1 whose base is the box ∏ b < a [ ϖ k b , 1 ] × [ 0 , ς k a ] . It follows that ∫ [ 0 , 1 ] n f k a ( z ) d z = 1 a + 2 ( ∏ b < a ( 1 − ϖ k b ) ) ς k a ≥ ( ζ k ) a + 1 a + 2 ≥ ( ζ k ) n n + 1 . For any { 0 , 1 } -valued ( p o l y , r l o g ) -bischeme ^ S we can apply Proposition A.1 to get δ S ∈ E s.t. | E μ × ^ σ S [ ^ S ( f a ∘ h − ∫ [ 0 , 1 ] n f a ( z ) d z ) ] | ≤ δ S + ζ − 1 d We have f m ∘ h = ∑ a ∈ A δ m a f a ∘ h . Assuming ^ σ S = ^ σ P × τ , we get δ ′ S ∈ E s.t. | E μ × ^ σ P × τ [ ^ S ( f m ∘ h − ∫ [ 0 , 1 ] n f m ( z ) d z ) ] | ≤ δ ′ S + n ζ − 1 d It is easy to see that for any for any x ∈ supp μ k , if h a ( x ) ∈ supp f k a ( x ) then p a ( x ) = 1 . Hence ( ^ u t p ) 2 ≥ 1 n f m ∘ h . We conclude E μ × ^ σ P × τ [ ^ S ( 1 n f m ∘ h − ^ ξ ) ] ≤ ~ δ S E μ × ^ σ P × τ [ ^ S ( 1 n ∫ [ 0 , 1 ] n f m ( z ) d z − ^ ξ ) ] ≤ ~ δ S + δ ′ S + ζ − 1 d E μ × ^ σ P × τ [ ^ S ( ζ n n ( n + 1 ) − ^ ξ ) ] ≤ ~ δ S + δ ′ S + ζ − 1 d Since ^ ξ can be approximated by a ( p o l y , r l o g ) -bischeme up to an error in E , there is δ ∈ E s.t. E μ × ^ σ P [ θ ( ζ n n ( n + 1 ) − ^ ξ ) ⋅ ( ζ n n ( n + 1 ) − ^ ξ ) ] ≤ δ + ζ − 1 d Proposition A.2 Fix an error space E . Consider a distributional estimation problem ( μ , f ) and a corresponding E -orthogonal predictor ^ P . Suppose ^ Q is a bounded Q -valued ( p o l y , r l o g ) -bischeme  s.t. ^ σ Q = ^ σ P (denote ^ σ ) and E μ × ^ σ [ | P − Q | ] ∈ E . Then ^ Q is an E -optimal predictor for ( μ , f ) . Proof of Proposition A.2 Consider a bounded Q -valued ( p o l y , l o g ) -bischeme ^ S with ^ σ S = ^ σ × τ . We have E μ × ^ σ × τ [ ^ S ( ^ Q − f ) ] = E μ × ^ σ × τ [ ^ S ( ^ Q − ^ P + ^ P − f ) ] | E μ × ^ σ × τ [ ^ S ( ^ Q − f ) ] | ≤ | E μ × ^ σ × τ [ ^ S ( ^ Q − ^ P ) ] | + | E μ × ^ σ × τ [ ^ S ( ^ P − ^ f ) ] | | E μ × ^ σ [ ^ S ( ^ Q − f ) ] | ≤ sup | ^ S | E μ × ^ σ [ | ^ Q − ^ P | ] + | E μ × ^ σ × τ [ ^ S ( ^ P − ^ f ) ] | Proof of Corollary Given a field F , let Sym 2 ( F n ) be the space of n × n symmetric matrices over F . Given x ∈ R , denote τ x : Sym 2 ( R n ) → Sym 2 ( R n ) the following function. Given M ∈ Sym 2 ( R n ) , let { e i } i < n be an orthonormal basis of eigenvectors for M and { λ i } i < n be the corresponding eigenvalues. Then, τ x ( M ) : = ∑ i < n max ( λ i , x ) e i e t i . As easy to see, the definition doesn't depend on the choice of e . Denote ρ : = ζ n n ( n + 1 ) . Let ^ Q be a Sym 2 ( Q n ) -valued ( p o l y , r l o g ) -bischeme with ^ σ Q = ^ σ P whose lowest eigenvalue is at least ρ and which satisfies | ^ Q a b − τ ρ ( ^ P ) a b | ∈ E . Using Theorem 2 and ζ − 1 d ∈ E we conclude that E μ × ^ σ P [ | ^ P a b − τ ρ ( ^ P ) a b | ] ∈ E E μ × ^ σ P [ | ^ P a b − ^ Q a b | ] ∈ E Applying Proposition A.2 we get the desired result. Appendix B Cartwright and Kucharski give a generalization of Jackson's inequality for an arbitrary compact connected Lie group. We only need the uniform norm, rank 1 case for the standard torus, so we state here this special case. Theorem B Fix n ∈ N . Denote T n : = R n / Z n the standard n-dimensional torus. Then there is M n > 0 s.t. for any r > 0 there is K r ∈ C ∞ ( T n , R ) s.t. its Fourier transform satisfies supp ^ K r ⊆ { ϑ ∈ Z n ∣ ∥ ϑ ∥ ≤ r } and for any f ∈ C ( T n , C ) we have sup | f − K r ∗ f | ≤ M n sup d ( z , w ) ≤ 1 r | f ( z ) − f ( w ) | Moreover, the ^ K r are uniformly bounded. Note B The fact ^ K r are uniformly bounded is not stated explicitly in Cartwright and Kucharski but it is evident from their construction of K . Corollary B For any n ∈ N there are M 1 n , M 2 n > 0 s.t. the following holds. Consider r > 0 and f : [ 0 , 1 ] n → R , Lipschitz continuous with constant L . Then there are g ∈ C ( [ 0 , 1 ] n , R ) and { c ω ∈ R } ω ∈ H ( r ) s.t. | g | ≤ M 1 n L r , | c ω | < M 2 n sup | f | and f = ∑ ω ∈ H ( r ) c ω ω + g . Proof of Corollary B Using reflections, f can be continued to a function on [ 0 , 2 ] n with periodic boundary conditions which is still Lipschitz continuous with constant L . This new function can be reinterpreted as a function f ′ ∈ C ( T n , R ) Lipschitz continuous with constant 2 L . Applying Theorem B, f ′ = K r ∗ f ′ + g ′ where | g ′ | ≤ 2 M n L r . Using the properties of K r , we have ( K r ∗ f ′ ) ( z ) = ∑ ∥ ϑ ∥ ≤ r c ϑ exp ( 2 π i ϑ t z ) , where | c ϑ | ≤ M ′ n sup | f | for some M ′ n > 0 because the ^ K r are uniformly bounded and | ^ f ′ | can be bounded by ∫ T n | f ′ ( z ) | d z ≤ sup | f ′ | . Since f is real, c ϑ = ¯ c − ϑ , yielding the desired result.